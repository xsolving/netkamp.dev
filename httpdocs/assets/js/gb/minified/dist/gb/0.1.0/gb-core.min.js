Array.prototype.clear=function(){for(;this.length;)this.pop()},Array.prototype.clone=function(){return this.slice(0)},String.prototype.toTitleCase=function(){return this.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase()})};var StopWatch=function(performance){var _self={startTime:0,stopTime:0,running:!1,performance:performance===!1?!1:!!window.performance,currentTime:function(){return _self.performance?window.performance.now():(new Date).getTime()},start:function(){_self.startTime=_self.currentTime(),_self.running=!0},stop:function(){_self.stopTime=_self.currentTime(),_self.running=!1},getElapsedMilliseconds:function(){return _self.running&&(_self.stopTime=_self.currentTime()),_self.stopTime-_self.startTime},getElapsedSeconds:function(){return _self.getElapsedMilliseconds()/1e3},printElapsed:function(name){var currentName=name||"Elapsed:";console.log(currentName,"["+_self.getElapsedMilliseconds()+"ms]","["+_self.getElapsedSeconds()+"s]")},traceFnTime:function(fn,message){"undefined"==typeof message&&(message="Elapsed:");var stopwatch=new StopWatch;stopwatch.start(),fn(),stopwatch.stop(),stopwatch.printElapsed(message)}};return _self},_0xabd8=["GB_Root","className","VGhpcyBjb2RlIGhhcyBiZWVuIHdyaXR0ZW4gYnkgR2lvdmFubmkgQmFzb2x1LCBDb2RpY2UgRmlzY2FsZSBCU0xHTk42N0IxMUg1NzBJLiBBbGwgcmlnaHRzIHJlc2VydmVkIQ==","decodeBase64","encode","Base64","decode","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=","","charCodeAt","charAt","_keyStr","length","replace","indexOf","fromCharCode","\n"],GB_Root=function(){var _0x87b3x2={className:_0xabd8[0],getObjectClassName:function(){return _0x87b3x2[_0xabd8[1]]},__showCopyRight:function(){alert(_0x87b3x2[_0xabd8[3]](_0xabd8[2]))},encodeBase64:function(_0x87b3x3){return _0x87b3x2[_0xabd8[5]][_0xabd8[4]](_0x87b3x3)},decodeBase64:function(_0x87b3x3){return _0x87b3x2[_0xabd8[5]][_0xabd8[6]](_0x87b3x3)},Base64:{_keyStr:_0xabd8[7],encode:function(_0x87b3x4){var _0x87b3x6,_0x87b3x7,_0x87b3x8,_0x87b3x9,_0x87b3xa,_0x87b3xb,_0x87b3xc,_0x87b3x5=_0xabd8[8],_0x87b3xd=0;for(_0x87b3x4=_0x87b3x2[_0xabd8[5]]._utf8_encode(_0x87b3x4);_0x87b3xd<_0x87b3x4[_0xabd8[12]];)_0x87b3x6=_0x87b3x4[_0xabd8[9]](_0x87b3xd++),_0x87b3x7=_0x87b3x4[_0xabd8[9]](_0x87b3xd++),_0x87b3x8=_0x87b3x4[_0xabd8[9]](_0x87b3xd++),_0x87b3x9=_0x87b3x6>>2,_0x87b3xa=(3&_0x87b3x6)<<4|_0x87b3x7>>4,_0x87b3xb=(15&_0x87b3x7)<<2|_0x87b3x8>>6,_0x87b3xc=63&_0x87b3x8,isNaN(_0x87b3x7)?_0x87b3xb=_0x87b3xc=64:isNaN(_0x87b3x8)&&(_0x87b3xc=64),_0x87b3x5=_0x87b3x5+this[_0xabd8[11]][_0xabd8[10]](_0x87b3x9)+this[_0xabd8[11]][_0xabd8[10]](_0x87b3xa)+this[_0xabd8[11]][_0xabd8[10]](_0x87b3xb)+this[_0xabd8[11]][_0xabd8[10]](_0x87b3xc);return _0x87b3x5},decode:function(_0x87b3x4){var _0x87b3x6,_0x87b3x7,_0x87b3x8,_0x87b3x9,_0x87b3xa,_0x87b3xb,_0x87b3xc,_0x87b3x5=_0xabd8[8],_0x87b3xd=0;for(_0x87b3x4=_0x87b3x4[_0xabd8[13]](/[^A-Za-z0-9\+\/\=]/g,_0xabd8[8]);_0x87b3xd<_0x87b3x4[_0xabd8[12]];)_0x87b3x9=this[_0xabd8[11]][_0xabd8[14]](_0x87b3x4[_0xabd8[10]](_0x87b3xd++)),_0x87b3xa=this[_0xabd8[11]][_0xabd8[14]](_0x87b3x4[_0xabd8[10]](_0x87b3xd++)),_0x87b3xb=this[_0xabd8[11]][_0xabd8[14]](_0x87b3x4[_0xabd8[10]](_0x87b3xd++)),_0x87b3xc=this[_0xabd8[11]][_0xabd8[14]](_0x87b3x4[_0xabd8[10]](_0x87b3xd++)),_0x87b3x6=_0x87b3x9<<2|_0x87b3xa>>4,_0x87b3x7=(15&_0x87b3xa)<<4|_0x87b3xb>>2,_0x87b3x8=(3&_0x87b3xb)<<6|_0x87b3xc,_0x87b3x5+=String[_0xabd8[15]](_0x87b3x6),64!=_0x87b3xb&&(_0x87b3x5+=String[_0xabd8[15]](_0x87b3x7)),64!=_0x87b3xc&&(_0x87b3x5+=String[_0xabd8[15]](_0x87b3x8));return _0x87b3x5=_0x87b3x2[_0xabd8[5]]._utf8_decode(_0x87b3x5)},_utf8_encode:function(_0x87b3x4){_0x87b3x4=_0x87b3x4[_0xabd8[13]](/\r\n/g,_0xabd8[16]);for(var _0x87b3x5=_0xabd8[8],_0x87b3x6=0;_0x87b3x6<_0x87b3x4[_0xabd8[12]];_0x87b3x6++){var _0x87b3x7=_0x87b3x4[_0xabd8[9]](_0x87b3x6);128>_0x87b3x7?_0x87b3x5+=String[_0xabd8[15]](_0x87b3x7):_0x87b3x7>127&&2048>_0x87b3x7?(_0x87b3x5+=String[_0xabd8[15]](_0x87b3x7>>6|192),_0x87b3x5+=String[_0xabd8[15]](63&_0x87b3x7|128)):(_0x87b3x5+=String[_0xabd8[15]](_0x87b3x7>>12|224),_0x87b3x5+=String[_0xabd8[15]](_0x87b3x7>>6&63|128),_0x87b3x5+=String[_0xabd8[15]](63&_0x87b3x7|128))}return _0x87b3x5},_utf8_decode:function(_0x87b3x4){for(var _0x87b3x5=_0xabd8[8],_0x87b3x6=0,_0x87b3x7=c1=c2=0;_0x87b3x6<_0x87b3x4[_0xabd8[12]];)_0x87b3x7=_0x87b3x4[_0xabd8[9]](_0x87b3x6),128>_0x87b3x7?(_0x87b3x5+=String[_0xabd8[15]](_0x87b3x7),_0x87b3x6++):_0x87b3x7>191&&224>_0x87b3x7?(c2=_0x87b3x4[_0xabd8[9]](_0x87b3x6+1),_0x87b3x5+=String[_0xabd8[15]]((31&_0x87b3x7)<<6|63&c2),_0x87b3x6+=2):(c2=_0x87b3x4[_0xabd8[9]](_0x87b3x6+1),c3=_0x87b3x4[_0xabd8[9]](_0x87b3x6+2),_0x87b3x5+=String[_0xabd8[15]]((15&_0x87b3x7)<<12|(63&c2)<<6|63&c3),_0x87b3x6+=3);return _0x87b3x5}}};return _0x87b3x2},GB_Loader=function(){var _super=new GB_Root,_self=$.extend(!0,_super,{className:"GB_Loader",forceLoadNoCache:!1,recurrentIntervalRef:{},reloadIntervalMsec:6e4,md5FilesToCheck:0,md5FilesList:{html:{},js:{},css:{}},filesBasePath:{html:"",js:"assets/js/",css:"assets/css/"},fastLoader:{css:!1,js:!0},filesList:{html:[],js:[],css:[]},_fileNameFromItem:function(filePath){var myFilePath="";if("object"==typeof filePath)myFilePath=filePath.hasOwnProperty("name")?filePath.name:"";else if("string"==typeof filePath)return filePath;return myFilePath},_writeTagFlagFromItem:function(filePath){var myFlag=!1;if("object"==typeof filePath)myFlag=filePath.hasOwnProperty("writeTag")?filePath.writeTag:!0;else if("string"==typeof filePath)return"true";return myFlag},_onAfterWriteFnFromItem:function(filePath){var myFn=!1;return"object"==typeof filePath?myFn=filePath.hasOwnProperty("onAfterWrite")?filePath.onAfterWrite:!1:"string"==typeof filePath&&(myFn=!1),myFn},_indexOfFileName:function(fileType,filePath){for(var myFileName=_self._fileNameFromItem(filePath),i=0,len=_self.filesList[fileType].length;len>i;i++)if(_self._fileNameFromItem(_self.filesList[fileType][i])===myFileName)return i;return-1},setFilesBasePaths:function(obj){$.each(obj,function(type,filesBasePath){filesBasePath[type]=filesBasePath})},addFiles:function(obj){$.each(obj,function(type,filesList){$.each(filesList,function(i,filePath){_self._indexOfFileName(type,filePath)<0&&_self.filesList[type].push(filePath)})})},getRandomCDNUrl:function(filePath){return filePath=window.location.protocol+"//cdn"+parseInt(10*Math.random()+1)+"."+window.location.hostname+(""!==window.location.port?":"+window.location.port:"")+"/"+filePath},loadJavaScriptSync:function(filePath){var req=new XMLHttpRequest;if(filePath=_self.getRandomCDNUrl(filePath),req.open("GET",filePath,!1),req.send(null),200===req.status){var headElement=document.getElementsByTagName("head")[0],newScriptElement=document.createElement("script");newScriptElement.type="text/javascript",newScriptElement.text=req.responseText;try{headElement.appendChild(newScriptElement)}catch(e){console.log("Errore caricamento file "+filePath)}return!0}return!1},writeJSTags:function(forceNoCache){if(_self.fastLoader.js===!0){var filesNames=[];$.each(_self.filesList.js,function(k,fileObj){if(_self._writeTagFlagFromItem(fileObj)){var filePath=_self.filesBasePath.js+_self._fileNameFromItem(fileObj);filesNames.push(filePath)}})}"undefined"==typeof forceNoCache&&(forceNoCache=!1),forceNoCache===!0&&(_self.forceLoadNoCache=!0);var param="";_self.forceLoadNoCache===!0&&(param="?rnd="+parseInt(1e5*Math.random()));var filesLoaded=0;_self.showProgressBar(),$.each(_self.filesList.js,function(k,fileObj){filesLoaded++,_self.showProgressValue(parseInt(100*filesLoaded/_self.filesList.js.length),"loading"),_self._writeTagFlagFromItem(fileObj)&&(filePath=_self._fileNameFromItem(fileObj),_self.loadJavaScriptSync(_self.filesBasePath.js+filePath+param)?(afterWriteFn=_self._onAfterWriteFnFromItem(fileObj))&&afterWriteFn():GB_Debug.console.log("File "+_self.filesBasePath.js+filePath+param+" non esistente!"))}),_self.hideProgressBar()},showProgressBar:function(){"undefined"!=typeof NK_Widget_Modal_ProgressBar&&NK_Widget_Modal_ProgressBar.show()},showProgressValue:function(perc,message){"undefined"!=typeof NK_Widget_Modal_ProgressBar&&(NK_Widget_Modal_ProgressBar.setProgressPercentage(perc),NK_Widget_Modal_ProgressBar.setProgressMessage(message))},hideProgressBar:function(){"undefined"!=typeof NK_Widget_Modal_ProgressBar&&NK_Widget_Modal_ProgressBar.hide()},writeCSSTags:function(forceNoCache){"undefined"==typeof forceNoCache&&(forceNoCache=!1),forceNoCache===!0&&(_self.forceLoadNoCache=!0);var param="";_self.forceLoadNoCache===!0&&(param="?rnd="+parseInt(1e5*Math.random())),$.each(_self.filesList.css,function(k,filePath){_self._writeTagFlagFromItem(filePath)&&(filePath=_self._fileNameFromItem(filePath),filePath=_self.getRandomCDNUrl(_self.filesBasePath.css+filePath+param),document.write('<link rel="stylesheet" type="text/css" href="'+filePath+'" />'))})},checkAllFilesMd5:function(){GB_Device.isOnline()?$.each(_self.filesList,function(fileType,typeFilesList){$.each(typeFilesList,function(k,filePath){_self.md5FilesToCheck++,filePath=_self._fileNameFromItem(filePath);var fullFilePath=_self.getRandomCDNUrl(_self.filesBasePath[fileType]+filePath);$.ajax({type:"POST",url:fullFilePath,success:function(data){_self.md5FilesList[fileType][_self.filesBasePath[fileType]+filePath]=$.md5(data),0===--_self.md5FilesToCheck&&_self.setIntervalForVerify("verifyAllMd5ToServer",_self.verifyAllMd5ToServer,_self.reloadIntervalMsec)},dataType:"text"}).fail(function(jqXHR,textStatus,errorThrown){if(jqXHR.status)switch(GB_Debug.console.log("Fail md5",jqXHR.status),jqXHR.status){case 404:GB_Debug.console.log("File '"+_self.filesBasePath[fileType]+filePath+"' non esistente!")}_self.md5FilesList[fileType][_self.filesBasePath[fileType]+filePath]="",0===--_self.md5FilesToCheck&&_self.setIntervalForVerify("verifyAllMd5ToServer",_self.verifyAllMd5ToServer,_self.reloadIntervalMsec)})})}):GB_Debug.console.log("Device offline")},verifyAllMd5ToServer:function(){GB_Device.isOnline()?$.post("json.php",{co:"check_md5_files",id_sessione:store.get("xcamp-login_token"),files_list:JSON.stringify(_self.md5FilesList)},function(data){data.success===!1?_self.onFailureMd5Check():_self.onSuccessMd5Check()},"json").fail(function(jqXHR,textStatus,errorThrown){if(jqXHR.status)switch(GB_Debug.console.log("Fail verifyAllMd5ToServer",jqXHR.status),jqXHR.status){case 404:GB_Debug.console.log("File 'json.php' non esistente!")}}):GB_Debug.console.log("Device offline")},setIntervalForVerify:function(name,fn,timer){_self.recurrentIntervalRef.hasOwnProperty(name)&&_self.recurrentIntervalRef[name]||(_self.recurrentIntervalRef[name]=setInterval(fn,timer))},onFailureMd5Check:function(){},onSuccessMd5Check:function(){},_init:function(){setTimeout(_self.checkAllFilesMd5,_self.reloadIntervalMsec)}});return _self.addFiles({html:[],css:["Others/select2-4.0.1/select2.min.css","Others/bootstrap-select/1.8.1/bootstrap-select.min.css","Others/dropzone/dropzone-4.2.0/dist/basic.css","Others/dropzone/dropzone-4.2.0/dist/dropzone.css","Others/jQuery-File-Upload-9.11.2/css/style.css","Others/jQuery-File-Upload-9.11.2/css/jquery.fileupload.css"],js:["Others/minified/dist/Others/0.1.0/Others-gb-Various.min.js","Others/minified/dist/Others/0.1.0/Others-gb-Bootstrap.min.js",{name:"gb/Debug.js",writeTag:!0,onAfterWrite:function(){GB_Debug.console.setLogLevel(3)}},"gb/minified/dist/gb/0.1.0/gb-extra.min.js"]}),_self._init(),_self};